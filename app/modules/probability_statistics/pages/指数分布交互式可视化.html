<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>指数分布 Exp(λ) 参数影响分析</title>
    
    <!-- MathJax配置 -->
    <script type="text/javascript">
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
    <script>
        // 内嵌简化版绘图引擎
        window.Plotly = {
            version: '2.26.0-embedded',
            newPlot: function(div, data, layout, config) {
                return new Promise((resolve, reject) => {
                    try {
                        const container = typeof div === 'string' ? document.getElementById(div) : div;
                        if (!container) {
                            reject(new Error('Container not found'));
                            return;
                        }
                        
                        container.innerHTML = '';
                        
                        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                        svg.style.width = '100%';
                        svg.style.height = '100%';
                        container.appendChild(svg);
                        
                        this._drawChart(svg, data, layout, config);
                        resolve();
                    } catch (error) {
                        reject(error);
                    }
                });
            },
            
            _drawChart: function(svg, data, layout, config) {
                const width = svg.clientWidth || 800;
                const height = svg.clientHeight || 400;
                const margin = layout.margin || { t: 50, r: 50, b: 50, l: 50 };
                
                svg.setAttribute('width', width);
                svg.setAttribute('height', height);
                svg.setAttribute('viewBox', `0 0 ${width} ${height}`);
                
                // 背景
                const bg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                bg.setAttribute('width', width);
                bg.setAttribute('height', height);
                bg.setAttribute('fill', layout.paper_bgcolor || 'white');
                svg.appendChild(bg);
                
                // 标题
                if (layout.title) {
                    const title = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    title.setAttribute('x', width / 2);
                    title.setAttribute('y', 30);
                    title.setAttribute('text-anchor', 'middle');
                    title.setAttribute('font-family', layout.font?.family || 'Arial');
                    title.setAttribute('font-size', '16');
                    title.setAttribute('font-weight', 'bold');
                    title.textContent = layout.title;
                    svg.appendChild(title);
                }
                
                const plotWidth = width - margin.l - margin.r;
                const plotHeight = height - margin.t - margin.b;
                
                this._drawAxes(svg, margin, plotWidth, plotHeight, data, layout);
                
                data.forEach((trace, index) => {
                    this._drawTrace(svg, trace, margin, plotWidth, plotHeight, data, layout);
                });
                
                this._drawLegend(svg, data, width, height, margin);
            },
            
            _drawAxes: function(svg, margin, plotWidth, plotHeight, data, layout) {
                // X轴
                const xAxis = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                xAxis.setAttribute('x1', margin.l);
                xAxis.setAttribute('y1', margin.t + plotHeight);
                xAxis.setAttribute('x2', margin.l + plotWidth);
                xAxis.setAttribute('y2', margin.t + plotHeight);
                xAxis.setAttribute('stroke', '#333');
                xAxis.setAttribute('stroke-width', '1');
                svg.appendChild(xAxis);
                
                // Y轴
                const yAxis = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                yAxis.setAttribute('x1', margin.l);
                yAxis.setAttribute('y1', margin.t);
                yAxis.setAttribute('x2', margin.l);
                yAxis.setAttribute('y2', margin.t + plotHeight);
                yAxis.setAttribute('stroke', '#333');
                yAxis.setAttribute('stroke-width', '1');
                svg.appendChild(yAxis);
                
                // 轴标签
                if (layout.xaxis?.title) {
                    const xLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    xLabel.setAttribute('x', margin.l + plotWidth / 2);
                    xLabel.setAttribute('y', margin.t + plotHeight + 40);
                    xLabel.setAttribute('text-anchor', 'middle');
                    xLabel.setAttribute('font-size', '12');
                    xLabel.textContent = layout.xaxis.title;
                    svg.appendChild(xLabel);
                }
                
                if (layout.yaxis?.title) {
                    const yLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    yLabel.setAttribute('x', 20);
                    yLabel.setAttribute('y', margin.t + plotHeight / 2);
                    yLabel.setAttribute('text-anchor', 'middle');
                    yLabel.setAttribute('font-size', '12');
                    yLabel.setAttribute('transform', `rotate(-90, 20, ${margin.t + plotHeight / 2})`);
                    yLabel.textContent = layout.yaxis.title;
                    svg.appendChild(yLabel);
                }
                
                // 绘制网格和刻度
                const xMin = Math.min(...data.flatMap(t => t.x || []));
                const xMax = Math.max(...data.flatMap(t => t.x || []));
                const yMin = 0;
                const yMax = Math.max(...data.flatMap(t => t.y || []));
                
                // X轴刻度
                for (let i = 0; i <= 5; i++) {
                    const x = xMin + (xMax - xMin) * i / 5;
                    const px = margin.l + (x - xMin) / (xMax - xMin) * plotWidth;
                    
                    // 刻度线
                    const tick = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    tick.setAttribute('x1', px);
                    tick.setAttribute('y1', margin.t + plotHeight);
                    tick.setAttribute('x2', px);
                    tick.setAttribute('y2', margin.t + plotHeight + 5);
                    tick.setAttribute('stroke', '#333');
                    svg.appendChild(tick);
                    
                    // 刻度标签
                    const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    label.setAttribute('x', px);
                    label.setAttribute('y', margin.t + plotHeight + 20);
                    label.setAttribute('text-anchor', 'middle');
                    label.setAttribute('font-size', '10');
                    label.textContent = x.toFixed(1);
                    svg.appendChild(label);
                }
                
                // Y轴刻度
                for (let i = 0; i <= 5; i++) {
                    const y = yMin + (yMax - yMin) * i / 5;
                    const py = margin.t + plotHeight - (y - yMin) / (yMax - yMin) * plotHeight;
                    
                    // 刻度线
                    const tick = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    tick.setAttribute('x1', margin.l - 5);
                    tick.setAttribute('y1', py);
                    tick.setAttribute('x2', margin.l);
                    tick.setAttribute('y2', py);
                    tick.setAttribute('stroke', '#333');
                    svg.appendChild(tick);
                    
                    // 刻度标签
                    const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    label.setAttribute('x', margin.l - 10);
                    label.setAttribute('y', py + 3);
                    label.setAttribute('text-anchor', 'end');
                    label.setAttribute('font-size', '10');
                    label.textContent = y.toFixed(2);
                    svg.appendChild(label);
                }
            },
            
            _drawTrace: function(svg, trace, margin, plotWidth, plotHeight, allData, layout) {
                if (!trace.x || !trace.y) return;
                
                const xMin = Math.min(...allData.flatMap(t => t.x || []));
                const xMax = Math.max(...allData.flatMap(t => t.x || []));
                const yMin = 0;
                const yMax = Math.max(...allData.flatMap(t => t.y || []));
                
                let pathData = '';
                trace.x.forEach((x, i) => {
                    const y = trace.y[i];
                    const px = margin.l + (x - xMin) / (xMax - xMin) * plotWidth;
                    const py = margin.t + plotHeight - (y - yMin) / (yMax - yMin) * plotHeight;
                    
                    if (i === 0) {
                        pathData += `M ${px} ${py}`;
                    } else {
                        pathData += ` L ${px} ${py}`;
                    }
                    
                    // 绘制点
                    if (trace.mode?.includes('markers')) {
                        const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                        circle.setAttribute('cx', px);
                        circle.setAttribute('cy', py);
                        circle.setAttribute('r', trace.marker?.size || 2);
                        circle.setAttribute('fill', trace.marker?.color || trace.line?.color || '#1f77b4');
                        svg.appendChild(circle);
                    }
                });
                
                // 绘制线条
                if (trace.mode?.includes('lines')) {
                    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    path.setAttribute('d', pathData);
                    path.setAttribute('stroke', trace.line?.color || '#1f77b4');
                    path.setAttribute('stroke-width', trace.line?.width || 2);
                    path.setAttribute('fill', 'none');
                    svg.appendChild(path);
                }
                
                // 填充区域（用于CDF）
                if (trace.fill === 'tonexty' || trace.fill === 'tozeroy') {
                    const fillPath = pathData + ` L ${margin.l + plotWidth} ${margin.t + plotHeight} L ${margin.l} ${margin.t + plotHeight} Z`;
                    const fillElement = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    fillElement.setAttribute('d', fillPath);
                    fillElement.setAttribute('fill', trace.fillcolor || trace.line?.color || '#1f77b4');
                    fillElement.setAttribute('fill-opacity', '0.3');
                    svg.insertBefore(fillElement, svg.lastChild);
                }
            },
            
            _drawLegend: function(svg, data, width, height, margin) {
                const legendX = width - 150;
                let legendY = margin.t + 20;
                
                data.forEach((trace, index) => {
                    if (trace.name) {
                        // 图例颜色块
                        const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                        rect.setAttribute('x', legendX);
                        rect.setAttribute('y', legendY - 8);
                        rect.setAttribute('width', 15);
                        rect.setAttribute('height', 3);
                        rect.setAttribute('fill', trace.line?.color || trace.marker?.color || '#1f77b4');
                        svg.appendChild(rect);
                        
                        // 图例文字
                        const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                        text.setAttribute('x', legendX + 20);
                        text.setAttribute('y', legendY);
                        text.setAttribute('font-size', '12');
                        text.textContent = trace.name;
                        svg.appendChild(text);
                        
                        legendY += 20;
                    }
                });
            }
        };
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', 'PingFang SC', sans-serif;
            font-size: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #667eea 100%);
            min-height: 100vh;
            color: #333;
            display: flex;
        }

        .sidebar {
            width: 250px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .nav-item {
            padding: 12px 15px;
            margin: 5px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #555;
            font-weight: 500;
        }

        .nav-item:hover {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            transform: translateX(5px);
        }

        .page-content {
            margin-left: 250px;
            flex: 1;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            margin-bottom: 20px;
        }

        .controls-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #e9ecef;
            margin-bottom: 30px;
        }

        .controls-section h3 {
            color: #495057;
            margin-bottom: 20px;
            font-size: 1.3em;
            text-align: center;
        }

        .control-group {
            margin-bottom: 25px;
        }

        .slider-container {
            margin-bottom: 20px;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .slider-value {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }

        .preset-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 10px;
            justify-content: center;
        }

        .preset-buttons button {
            padding: 8px 16px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
        }

        .preset-buttons button:hover,
        .preset-buttons button.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .charts-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .chart-container h3 {
            color: #495057;
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.1em;
        }

        .chart-placeholder {
            height: 400px;
            width: 100%;
            display: block;
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 10px;
        }

        .stats-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-label {
            font-size: 1.1em;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.4em;
            font-weight: bold;
        }

        .comparison-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .comparison-section h3 {
            color: #495057;
            margin-bottom: 15px;
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 1.1em;
        }

        th, td {
            padding: 8px 12px;
            text-align: center;
            border-bottom: 1px solid #e9ecef;
        }

        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #495057;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .formula-section {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .formula-section h3 {
            color: #856404;
            margin-bottom: 15px;
        }

        .formula {
            font-family: 'Times New Roman', serif;
            font-size: 1.1em;
            text-align: left;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
        }

        .statistics-blocks {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            background: rgba(248, 249, 250, 0.8);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .stat-block {
            padding: 12px 16px;
            border-radius: 8px;
            text-align: left;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: flex-start;
            min-height: 50px;
        }

        .stat-block:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .stat-block.expectation {
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            border: 2px solid #ef4444;
            color: #991b1b;
        }

        .stat-block.variance {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            border: 2px solid #22c55e;
            color: #166534;
        }

        .stat-block.std-deviation {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border: 2px solid #3b82f6;
            color: #1e40af;
        }

        .stat-label {
            font-size: 0.95em;
            font-weight: bold;
            margin-right: 8px;
            text-align: left;
        }

        .stat-formula {
            font-family: 'Times New Roman', serif;
            font-size: 1.3em;
            text-align: left;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 6px;
            backdrop-filter: blur(10px);
        }

        @media (max-width: 768px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h3 class="sidebar-title">概率论与数理统计</h3>
        <div class="nav-item" onclick="window.location.href='../index.html'">模块概览</div>
        <div class="nav-item" onclick="window.location.href='二项分布现代化可视化_离线版.html'">二项分布</div>
        <div class="nav-item" onclick="window.location.href='泊松分布交互式可视化_完整离线版.html'">泊松分布</div>
        <div class="nav-item" onclick="window.location.href='指数分布交互式可视化.html'">指数分布</div>
        <div class="nav-item" onclick="window.location.href='正态分布交互式可视化.html'">正态分布</div>
        <div class="nav-item" onclick="window.location.href='../index.html'">返回 “概率与统计可视化世界”首页</div>
<div class="nav-item" onclick="window.location.href='../../../../index.html'">返回 “万物可视化”首页</div>
    </div>
    <div class="page-content">
        <div class="container">
        <div class="header">
            <h1>📈 指数分布交互式可视化</h1>
            <p>探索参数 λ 对指数分布的影响</p>
        </div>

        <div class="main-panel">
            <!-- 分布说明 -->
            <div class="distribution-description" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin: 20px 0; text-align: center; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);">
                <h2 style="margin: 0; font-size: 1.5em;">📊 指数分布 - 描述事件间隔时间的连续概率分布，具有无记忆性特征</h2>
            </div>
            
            <!-- 公式说明 -->
            <div class="formula-section">
                <div style="background: #e8f4fd; padding: 12px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #2196F3;">
                    <h4 style="color: #1976D2; margin-bottom: 8px;">🎯 适用场景</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; color: #424242;">
                        <div>
                            <strong>工程技术：</strong><br>
                            • 设备寿命：电子元件、机械设备的无故障工作时间<br>
                            • 网络延迟：数据包传输的延迟时间<br>
                            • 放射性衰变：原子核衰变的时间间隔
                        </div>
                        <div>
                            <strong>服务管理：</strong><br>
                            • 服务时间：银行排队、客服电话等服务时间<br>
                            • 到达间隔：顾客到达商店的时间间隔<br>
                            • 生存分析：医学中患者的生存时间
                        </div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div class="formula">
                        <strong>概率密度函数 (PDF):</strong> $$f(x) = \lambda e^{-\lambda x}, \quad x \geq 0$$
                    </div>
                    <div class="formula">
                        <strong>累积分布函数 (CDF):</strong> $$F(x) = 1 - e^{-\lambda x}, \quad x \geq 0$$
                    </div>
                </div>
                
                <div class="formula-container">
                    <h4>参数：</h4>
                    <div class="parameters-info" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <ul style="margin: 0; padding-left: 20px; list-style-type: none;">
                            <li style="margin: 8px 0;"><strong>$\lambda$：</strong>速率参数（$\lambda > 0$）- 表示事件发生的平均速率，$\lambda$越大事件发生越频繁</li>
                            <li style="margin: 8px 0;"><strong>$x$：</strong>随机变量值（$x \geq 0$）- 表示等待时间或持续时间的长度</li>
                        </ul>
                    </div>
                </div>
                
                <div class="statistics-blocks">
                    <div class="stat-block expectation">
                        <div class="stat-label"><strong>期望值：</strong></div>
                        <div class="stat-formula">$$E[X] = \frac{1}{\lambda}$$</div>
                    </div>
                    <div class="stat-block variance">
                        <div class="stat-label"><strong>方差：</strong></div>
                        <div class="stat-formula">$$\text{Var}[X] = \frac{1}{\lambda^2}$$</div>
                    </div>
                    <div class="stat-block std-deviation">
                        <div class="stat-label"><strong>标准差：</strong></div>
                        <div class="stat-formula">$$\sigma = \frac{1}{\lambda}$$</div>
                    </div>
                </div>
            </div>

            <!-- 参数控制区域 -->
            <div class="controls-section">
                <h3>🎛️ 参数控制</h3>
                <div class="control-group">
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>速率参数 λ (lambda)</span>
                            <span class="slider-value" id="lambdaValue">1.0</span>
                        </div>
                        <input type="range" id="lambdaSlider" class="slider" min="0.1" max="5.0" value="1.0" step="0.1">
                        <div class="preset-buttons">
                            <button onclick="setLambda(0.5)">λ=0.5</button>
                            <button onclick="setLambda(1.0)" class="active">λ=1.0</button>
                            <button onclick="setLambda(1.5)">λ=1.5</button>
                            <button onclick="setLambda(2.0)">λ=2.0</button>
                            <button onclick="setLambda(3.0)">λ=3.0</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 统计信息 -->
            <div class="stats-section">
                <h3>📊 当前分布统计信息</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">期望值 E(X)</div>
                        <div class="stat-value" id="meanValue">1.00</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">方差 Var(X)</div>
                        <div class="stat-value" id="varianceValue">1.00</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">标准差 σ</div>
                        <div class="stat-value" id="stdValue">1.00</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">中位数</div>
                        <div class="stat-value" id="medianValue">0.69</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">众数</div>
                        <div class="stat-value" id="modeValue">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">偏度</div>
                        <div class="stat-value" id="skewnessValue">2.00</div>
                    </div>
                </div>
            </div>

            <!-- 图表区域 -->
            <div class="charts-section">
                <div class="chart-container">
                    <h3>📈 概率密度函数 (PDF)</h3>
                    <div id="pdfChart" class="chart-placeholder"></div>
                </div>
                <div class="chart-container">
                    <h3>📊 累积分布函数 (CDF)</h3>
                    <div id="cdfChart" class="chart-placeholder"></div>
                </div>
            </div>

            <!-- 参数对比图表 -->
            <div class="charts-section">
                <div class="chart-container">
                    <h3>🔄 不同 λ 值的 PDF 对比</h3>
                    <div id="pdfComparisonChart" class="chart-placeholder"></div>
                </div>
                <div class="chart-container">
                    <h3>🔄 不同 λ 值的 CDF 对比</h3>
                    <div id="cdfComparisonChart" class="chart-placeholder"></div>
                </div>
            </div>

            <!-- 对比表格 -->
            <div class="comparison-section">
                <h3>📋 不同 λ 值统计对比</h3>
                <table id="comparisonTable">
                    <thead>
                        <tr>
                            <th>λ</th>
                            <th>期望值</th>
                            <th>方差</th>
                            <th>标准差</th>
                            <th>中位数</th>
                            <th>P(X ≤ 1)</th>
                            <th>P(X ≤ 2)</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // 全局变量
        let currentLambda = 1.0;

        // 指数分布概率密度函数
        function exponentialPDF(x, lambda) {
            if (x < 0) return 0;
            return lambda * Math.exp(-lambda * x);
        }

        // 指数分布累积分布函数
        function exponentialCDF(x, lambda) {
            if (x < 0) return 0;
            return 1 - Math.exp(-lambda * x);
        }

        // 计算统计量
        function calculateStats(lambda) {
            const mean = 1 / lambda;
            const variance = 1 / (lambda * lambda);
            const std = Math.sqrt(variance);
            const median = Math.log(2) / lambda;
            const mode = 0;
            const skewness = 2;
            
            return { mean, variance, std, median, mode, skewness };
        }

        // 更新统计信息显示
        function updateStats() {
            const stats = calculateStats(currentLambda);
            
            document.getElementById('meanValue').textContent = stats.mean.toFixed(2);
            document.getElementById('varianceValue').textContent = stats.variance.toFixed(2);
            document.getElementById('stdValue').textContent = stats.std.toFixed(2);
            document.getElementById('medianValue').textContent = stats.median.toFixed(2);
            document.getElementById('modeValue').textContent = stats.mode;
            document.getElementById('skewnessValue').textContent = stats.skewness.toFixed(2);
        }

        // 绘制PDF图
        function plotPDF() {
            const x = [];
            const y = [];
            
            const maxX = 5 / currentLambda; // 显示到期望值的5倍
            const step = maxX / 200;
            
            for (let i = 0; i <= 200; i++) {
                const xVal = i * step;
                x.push(xVal);
                y.push(exponentialPDF(xVal, currentLambda));
            }

            const trace = {
                x: x,
                y: y,
                type: 'scatter',
                mode: 'lines',
                name: `λ = ${currentLambda}`,
                line: {
                    color: '#667eea',
                    width: 3
                },
                fill: 'tozeroy',
                fillcolor: 'rgba(102, 126, 234, 0.3)'
            };

            const layout = {
                title: `指数分布 PDF (λ = ${currentLambda})`,
                xaxis: { 
                    title: 'x',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                yaxis: { 
                    title: 'f(x)',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                plot_bgcolor: 'rgba(0,0,0,0)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                font: { family: 'Microsoft YaHei, sans-serif' },
                margin: { t: 50, r: 20, b: 60, l: 60 }
            };

            const container = document.getElementById('pdfChart');
            if (container && typeof Plotly !== 'undefined') {
                Plotly.newPlot('pdfChart', [trace], layout, {responsive: true});
            }
        }

        // 绘制CDF图
        function plotCDF() {
            const x = [];
            const y = [];
            
            const maxX = 5 / currentLambda;
            const step = maxX / 200;
            
            for (let i = 0; i <= 200; i++) {
                const xVal = i * step;
                x.push(xVal);
                y.push(exponentialCDF(xVal, currentLambda));
            }

            const trace = {
                x: x,
                y: y,
                type: 'scatter',
                mode: 'lines',
                name: `λ = ${currentLambda}`,
                line: {
                    color: '#764ba2',
                    width: 3
                }
            };

            const layout = {
                title: `指数分布 CDF (λ = ${currentLambda})`,
                xaxis: { 
                    title: 'x',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                yaxis: { 
                    title: 'F(x)',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                plot_bgcolor: 'rgba(0,0,0,0)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                font: { family: 'Microsoft YaHei, sans-serif' },
                margin: { t: 50, r: 20, b: 60, l: 60 }
            };

            const container = document.getElementById('cdfChart');
            if (container && typeof Plotly !== 'undefined') {
                Plotly.newPlot('cdfChart', [trace], layout, {responsive: true});
            }
        }

        // 绘制PDF对比图
        function plotPDFComparison() {
            const lambdaValues = [0.5, 1.0, 1.5, 2.0, 3.0];
            const colors = ['#667eea', '#764ba2', '#4facfe', '#00f2fe', '#43e97b'];
            const traces = [];

            lambdaValues.forEach((lambda, index) => {
                const x = [];
                const y = [];
                
                const maxX = 6;
                const step = maxX / 200;
                
                for (let i = 0; i <= 200; i++) {
                    const xVal = i * step;
                    x.push(xVal);
                    y.push(exponentialPDF(xVal, lambda));
                }

                traces.push({
                    x: x,
                    y: y,
                    type: 'scatter',
                    mode: 'lines',
                    name: `λ = ${lambda}`,
                    line: {
                        color: colors[index],
                        width: 2
                    }
                });
            });

            const layout = {
                title: '不同 λ 值的指数分布 PDF 对比',
                xaxis: { 
                    title: 'x',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                yaxis: { 
                    title: 'f(x)',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                plot_bgcolor: 'rgba(0,0,0,0)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                font: { family: 'Microsoft YaHei, sans-serif' },
                margin: { t: 50, r: 20, b: 60, l: 60 },
                legend: {
                    x: 1,
                    y: 1,
                    bgcolor: 'rgba(255,255,255,0.8)'
                }
            };

            const container = document.getElementById('pdfComparisonChart');
            if (container && typeof Plotly !== 'undefined') {
                Plotly.newPlot('pdfComparisonChart', traces, layout, {responsive: true});
            }
        }

        // 绘制CDF对比图
        function plotCDFComparison() {
            const lambdaValues = [0.5, 1.0, 1.5, 2.0, 3.0];
            const colors = ['#667eea', '#764ba2', '#4facfe', '#00f2fe', '#43e97b'];
            const traces = [];

            lambdaValues.forEach((lambda, index) => {
                const x = [];
                const y = [];
                
                const maxX = 6;
                const step = maxX / 200;
                
                for (let i = 0; i <= 200; i++) {
                    const xVal = i * step;
                    x.push(xVal);
                    y.push(exponentialCDF(xVal, lambda));
                }

                traces.push({
                    x: x,
                    y: y,
                    type: 'scatter',
                    mode: 'lines',
                    name: `λ = ${lambda}`,
                    line: {
                        color: colors[index],
                        width: 2
                    }
                });
            });

            const layout = {
                title: '不同 λ 值的指数分布 CDF 对比',
                xaxis: { 
                    title: 'x',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                yaxis: { 
                    title: 'F(x)',
                    showgrid: true,
                    gridcolor: 'rgba(0,0,0,0.1)'
                },
                plot_bgcolor: 'rgba(0,0,0,0)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                font: { family: 'Microsoft YaHei, sans-serif' },
                margin: { t: 50, r: 20, b: 60, l: 60 },
                legend: {
                    x: 1,
                    y: 1,
                    bgcolor: 'rgba(255,255,255,0.8)'
                }
            };

            const container = document.getElementById('cdfComparisonChart');
            if (container && typeof Plotly !== 'undefined') {
                Plotly.newPlot('cdfComparisonChart', traces, layout, {responsive: true});
            }
        }

        // 更新对比表格
        function updateComparisonTable() {
            const lambdaValues = [0.5, 1.0, 1.5, 2.0, 3.0];
            const tbody = document.querySelector('#comparisonTable tbody');
            tbody.innerHTML = '';

            lambdaValues.forEach(lambda => {
                const stats = calculateStats(lambda);
                const row = tbody.insertRow();
                
                row.insertCell(0).textContent = lambda.toFixed(1);
                row.insertCell(1).textContent = stats.mean.toFixed(2);
                row.insertCell(2).textContent = stats.variance.toFixed(2);
                row.insertCell(3).textContent = stats.std.toFixed(2);
                row.insertCell(4).textContent = stats.median.toFixed(2);
                row.insertCell(5).textContent = exponentialCDF(1, lambda).toFixed(3);
                row.insertCell(6).textContent = exponentialCDF(2, lambda).toFixed(3);
                
                // 高亮当前λ值
                if (Math.abs(lambda - currentLambda) < 0.05) {
                    row.style.backgroundColor = '#e6f3ff';
                    row.style.fontWeight = 'bold';
                }
            });
        }

        // 更新所有图表和统计
        function updateAll() {
            updateStats();
            plotPDF();
            plotCDF();
            plotPDFComparison();
            plotCDFComparison();
            updateComparisonTable();
        }

        // 设置λ值
        function setLambda(lambda) {
            currentLambda = lambda;
            document.getElementById('lambdaSlider').value = lambda;
            document.getElementById('lambdaValue').textContent = lambda.toFixed(1);
            
            // 更新按钮状态
            document.querySelectorAll('.preset-buttons button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            updateAll();
        }

        // 滑动条事件监听
        document.getElementById('lambdaSlider').addEventListener('input', function() {
            currentLambda = parseFloat(this.value);
            document.getElementById('lambdaValue').textContent = currentLambda.toFixed(1);
            updateAll();
        });

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            updateAll();
        });
    </script>
        </div>
    </div>
</body>
</html>